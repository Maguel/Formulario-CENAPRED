---
// src/components/AccionesEncuesta.astro
// Barra de acciones con “Guardar” y “Borrar”.
// Muestra mensajes del navegador (alert/confirm) y recarga al borrar.
---

<section class="panel">
  <div class="actions">
    <button class="btn btn--ghost" id="btn-borrar" type="button">
      🗑️ Borrar encuesta
    </button>

    <button class="btn btn--primary" id="btn-guardar" type="button">
      💾 Guardar encuesta
    </button>
  </div>
</section>

<style>
  .panel {
    width: min(1060px, 94vw);
    margin: 14px auto;
    border: 2px solid #00b7c7;
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
    color: #111;
    font-size: 13.5px;
    padding: 0.75rem 0.9rem;
  }

  .actions {
    display: flex;
    justify-content: flex-end;
    gap: 0.6rem;
    flex-wrap: wrap;
  }

  .btn {
    appearance: none;
    border: 2px solid transparent;
    padding: 0.55rem 0.9rem;
    border-radius: 10px;
    font-weight: 700;
    cursor: pointer;
    transition:
      transform 0.04s ease,
      box-shadow 0.2s ease,
      background-color 0.2s ease,
      border-color 0.2s ease;
    line-height: 1;
    box-shadow: 0 1px 0 rgba(0, 0, 0, 0.06);
    user-select: none;
  }
  .btn:active {
    transform: translateY(1px);
  }

  .btn--primary {
    background: #00b7c7;
    color: #fff;
    border-color: #00b7c7;
  }
  .btn--primary:hover {
    background: #00ccdb;
    border-color: #00ccdb;
  }

  .btn--ghost {
    background: #fff;
    color: #b3261e;
    border-color: #b3261e;
  }
  .btn--ghost:hover {
    background: #ffeceb;
  }
</style>

<script is:inline>
  const $save = document.getElementById("btn-guardar");
  const $del = document.getElementById("btn-borrar");

  $save?.addEventListener("click", () => {
    // Mensaje nativo del navegador
    alert("Encuesta guardada correctamente.");
  });

  $del?.addEventListener("click", () => {
    // Confirmación nativa + recarga rápida
    const ok = confirm(
      "¿Deseas borrar la encuesta? Esta acción recargará la página.",
    );
    if (ok) {
      alert("Encuesta borrada.");
      // Recarga inmediata para limpiar el formulario
      window.location.reload();
    }
  });
</script>
